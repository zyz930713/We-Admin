@model Wenba.Models.Project

@{
    ViewBag.Title = "";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .layui-input-block {
        margin-left:0!important;
    }
</style>
<h2>编辑项目</h2>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal layui-form">
       
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.id)

        <div class="layui-form-item">
            项目名称
            <div class="layui-input-block">
                @Html.EditorFor(model => model.ProjectName, new { htmlAttributes = new { @class = "form-control layui-input" } })
                @Html.ValidationMessageFor(model => model.ProjectName, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="layui-form-item">
            项目编号
            <div class="layui-input-block">
                @Html.EditorFor(model => model.ProjectNum, new { htmlAttributes = new { @class = "form-control layui-input" } })
                @Html.ValidationMessageFor(model => model.ProjectNum, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="layui-form-item">
            客户名称
            <div class="layui-input-block">
                @Html.EditorFor(model => model.CustomerName, new { htmlAttributes = new { @class = "form-control layui-input" } })
                @Html.ValidationMessageFor(model => model.CustomerName, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="layui-form-item">
            开始时间
            <div class="layui-input-block">
                @{ 
                    var startDate = Model.StartDate.ToShortDateString();
                }
                <input id="StartDate" class="layui-input" value="@startDate" name="StartDate" type="text"/>


            </div>
        </div>

        <div class="layui-form-item">
            结束时间
            <div class="layui-input-block">
                @{
                    var endDate = Model.EndDate.ToShortDateString();
                 }
                <input id="EndDate" class="layui-input" value="@endDate" name="EndDate" type="text" />
            </div>
        </div>

        <div class="layui-form-item">
            项目经理
            <div class="layui-input-block">
                @*@Html.EditorFor(model => model.ManagerId, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.DropDownListFor(model=>model.ManagerId, ViewData["ManagerList"] as List<SelectListItem>)
                @Html.ValidationMessageFor(model => model.ManagerId, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="layui-form-item">
            客户经理
            <div class="layui-input-block">
                @Html.DropDownListFor(model => model.CustManagerId, ViewData["CostManagerList"] as List<SelectListItem>)
                @Html.ValidationMessageFor(model => model.CustManagerId, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="layui-form-item">
            状态
            <div class="layui-input-block">
                @*@Html.EditorFor(model => model.Status, new { htmlAttributes = new { @class = "form-control" } })*@
                @Html.DropDownListFor(model => model.Status, ViewData["ProjStatusList"] as List<SelectListItem>)
                @Html.ValidationMessageFor(model => model.Status, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="layui-form-item">
            备注
            <div class="layui-input-block">
                @Html.EditorFor(model => model.Comments, new { htmlAttributes = new { @class = "form-control layui-input" } })
                @Html.ValidationMessageFor(model => model.Comments, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="layui-form-item">
            <div class="layui-input-block">
                <input type="submit" value="提交" class="layui-btn layui-btn-normal" />
                
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block">
                <label>@ViewBag.ErrorMsg</label>
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("返回项目列表", "Index")
</div>

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
